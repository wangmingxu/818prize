!function(t,i){"function"==typeof define&&define.amd?define(["jquery"],i):i("object"==typeof exports?require("jquery"):window.jQuery)}(this,function(t){var i="Flide",o="flide",e="mx-flide",s=t.fn[i],n={initfocus:0,sPicWidth:310,sPicHeight:218,bPicWidth:418,bPicHeight:295,picMargin:20,showPicCount:3,speed:200,focusClass:"item_focus"},h=function(t){var i=function(i,e){this._option=this._getOption(e),this._$element=t(i),this._$element.data(o,this),this._$item=this._$element.find("[data-role='item']"),this._$prevBtn=t("[data-role='prev']"),this._$nextBtn=t("[data-role='next']"),this.nowFocus=n.initfocus,this.leftMax=0,this.rightMax=this._$item.length-1,this.sPicCount=this._option.showPicCount-1,this.mLeft=0,this.mRight=this.mLeft+this._option.showPicCount-1,this._init(this.nowFocus)};return i.prototype._init=function(){this.tabTo(this._option.initfocus),this._initEventHandle()},i.prototype._initEventHandle=function(){t(document).on("click","[data-role='next']",t.proxy(this.next,this)),t(document).on("click","[data-role='prev']",t.proxy(this.prev,this)),t(document).on("click","[data-role='item']",t.proxy(this.clickTo,this))},i.prototype._offEventHandle=function(){t(document).off("click","[data-role='next']"),t(document).off("click","[data-role='prev']"),t(document).off("click","[data-role='prev']")},i.prototype._calcWidth=function(){var t,i,o;i=this._option.bPicWidth+this._option.sPicWidth*(this._option.showPicCount-1),o=this.picMargin*(this._option.showPicCount-1),t=i+o,this._$element.css("width",t+"px")},i.prototype._calcOffset=function(){var t,i,o,e;return t=this.nowFocus,i=this._option.showPicCount,o=this._option.sPicWidth+this._option.picMargin,0===this.mLeft?0:e=t<i?-t*o:-(t-i+1)*o},i.prototype.next=function(){this.nowFocus++,this.judgeMax(),this.judgeSlide("next");var t=this._option.speed,i=this._option.focusClass;this._$item.eq(this.nowFocus-1).animate({width:this._option.sPicWidth+"px",height:this._option.sPicHeight+"px"},t).removeClass(i),this._$item.eq(this.nowFocus).animate({width:this._option.bPicWidth+"px",height:this._option.bPicHeight+"px"},t).addClass(i)},i.prototype.prev=function(){this.nowFocus--,this.judgeMax(),this.judgeSlide("prev");var t=this._option.speed,i=this._option.focusClass;this._$item.eq(this.nowFocus+1).animate({width:this._option.sPicWidth+"px",height:this._option.sPicHeight+"px"},t).removeClass(i),this._$item.eq(this.nowFocus).animate({width:this._option.bPicWidth+"px",height:this._option.bPicHeight+"px"},t).addClass(i)},i.prototype.tabTo=function(t){var i=this.nowFocus;this.nowFocus=t,this.judgeMax(),this.judgeSlide("tabTo");var o=this._option.speed,e=this._option.focusClass;this._$item.eq(i).animate({width:this._option.sPicWidth+"px",height:this._option.sPicHeight+"px"},o).removeClass(e),this._$item.eq(this.nowFocus).animate({width:this._option.bPicWidth+"px",height:this._option.bPicHeight+"px"},o).addClass(e)},i.prototype.clickTo=function(i){var o=t(i.currentTarget).index();this.nowFocus!=o&&this.tabTo(o)},i.prototype.judgeSlide=function(t){var i=this.nowFocus;if(!(i>=this.mLeft&&i<=this.mRight)){switch(t){case"prev":this.mLeft=this.nowFocus,this.mRight=this.mLeft+this.sPicCount;break;case"next":this.mRight=this.nowFocus,this.mLeft=this.mRight-this.sPicCount;break;case"tabTo":this.nowFocus<this.mLeft&&(this.mLeft=this.nowFocus,this.mRight=this.mLeft+this.sPicCount),this.nowFocus>this.mRight&&(this.mRight=this.nowFocus,this.mLeft=this.mRight-this.sPicCount)}var o=this._calcOffset()+"px",e=this._option.speed;this._$item.eq(0).animate({marginLeft:o},e)}},i.prototype.judgeMax=function(){this._$item.length-1,this._option.speed;this.nowFocus==this.leftMax?this._$prevBtn.hide():this._$prevBtn.show(),this.nowFocus==this.rightMax?this._$nextBtn.hide():this._$nextBtn.show()},i.prototype._getOption=function(i){return t.extend(!0,{},n,i)},i.prototype.destroy=function(){this._$element.removeData(o),this._offEventHandle(),delete this},i._jQueryInterface=function(s){var n=[].slice.call(arguments,1);return this.each(function(h,c){var p,a,u;p=t(c).data(e),a=t.extend(!0,{},p,"object"==typeof s?s:null),u=t(c).data(o),u||(u=new i(c,a)),"string"==typeof s&&u[s](n)})},i}(t);t.fn[i]=h._jQueryInterface,t.fn[i].Constructor=h,t.fn[i].noConflict=function(){return t.fn[i]=s,h._jQueryInterface},"object"==typeof module&&(module.exports=h)});