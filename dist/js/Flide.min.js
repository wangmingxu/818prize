!function(t,i){"function"==typeof define&&define.amd?define(["jquery"],i):i("object"==typeof exports?require("jquery"):window.jQuery)}(this,function(t){var i="Flide",o="flide",e="mx-flide",n=t.fn[i],s={initfocus:0,sPicWidth:310,sPicHeight:218,bPicWidth:418,bPicHeight:295,picMargin:20,showPicCount:3,speed:200},h=function(t){var i=function(i,e){this._option=this._getOption(e),this._$element=t(i),this._$item=this._$element.find("[data-role='item']"),this._$prev_btn=t("[data-role='prev']"),this._$next_btn=t("[data-role='next']"),this._$element.data(o,this),this.nowFocus=s.initfocus,this.leftMax=0,this.rightMax=this._$item.length-1,this.sPicCount=this._option.showPicCount-1,this.mLeft=0,this.mRight=this._option.showPicCount-1,this._init(this.nowFocus)};return i.prototype._init=function(){this.tabTo(this._option.initfocus),this._initEventHandle()},i.prototype._initEventHandle=function(){t(document).on("click","[data-role='next']",t.proxy(this.next,this)),t(document).on("click","[data-role='prev']",t.proxy(this.prev,this)),t(document).on("click","[data-role='item']",t.proxy(this.clickTo,this))},i.prototype._offEventHandle=function(){t(document).off("click","[data-role='next']"),t(document).off("click","[data-role='prev']"),t(document).off("click","[data-role='prev']")},i.prototype._calcWidth=function(){var t,i,o;i=this._option.bPicWidth+this._option.sPicWidth*(this._option.showPicCount-1),o=this.picMargin*(this._option.showPicCount-1),t=i+o,this._$element.css("width",t+"px")},i.prototype._calcOffset=function(){if(this.nowFocus<this._option.showPicCount)return 0;var t=-(this.nowFocus-this._option.showPicCount+1)*(this._option.sPicWidth+this._option.picMargin);return t},i.prototype.next=function(){this.nowFocus++,this.judgeMax(),this.judgeSlide("next");var t=this._option.speed;this._$item.eq(this.nowFocus-1).animate({width:this._option.sPicWidth+"px",height:this._option.sPicHeight+"px"},t),this._$item.eq(this.nowFocus).animate({width:this._option.bPicWidth+"px",height:this._option.bPicHeight+"px"},t)},i.prototype.prev=function(){this.nowFocus--,this.judgeMax(),this.judgeSlide("prev");var t=this._option.speed;this._$item.eq(this.nowFocus+1).animate({width:this._option.sPicWidth+"px",height:this._option.sPicHeight+"px"},t),this._$item.eq(this.nowFocus).animate({width:this._option.bPicWidth+"px",height:this._option.bPicHeight+"px"},t)},i.prototype.tabTo=function(t){var i=this.nowFocus;this.nowFocus=t,this.judgeMax(),this.judgeSlide("tabTo");var o=this._option.speed;this._$item.eq(i).animate({width:this._option.sPicWidth+"px",height:this._option.sPicHeight+"px"},o),this._$item.eq(this.nowFocus).animate({width:this._option.bPicWidth+"px",height:this._option.bPicHeight+"px"},o)},i.prototype.clickTo=function(i){var o=t(i.currentTarget).index();this.nowFocus!=o&&this.tabTo(o)},i.prototype.judgeSlide=function(t){var i=this._calcOffset()+"px",o=this.nowFocus;if(!(o>=this.mLeft&&o<=this.mRight)){switch(t){case"prev":this.mLeft=this.nowFocus,this.mRight--;break;case"next":this.mLeft++,this.mRight=this.nowFocus;break;case"tabTo":this.nowFocus<this.mLeft&&(this.mLeft=this.nowFocus,this.mRight=this.mLeft+this.sPicCount),this.nowFocus>this.mRight&&(this.mLeft=this.mRight-this.sPicCount,this.mRight=this.nowFocus)}var e=this._option.speed;this._$item.eq(0).animate({marginLeft:i},e)}},i.prototype.judgeMax=function(){this._$item.length-1,this._option.speed;this.nowFocus==this.leftMax?this._$prev_btn.hide():this._$prev_btn.show(),this.nowFocus==this.rightMax?this._$next_btn.hide():this._$next_btn.show()},i.prototype._getOption=function(i){return t.extend(!0,{},s,i)},i.prototype.destroy=function(){this._$element.removeData(o),this._offEventHandle(),delete this},i._jQueryInterface=function(n){var s=[].slice.call(arguments,1);return this.each(function(h,c){var p,r,a;p=t(c).data(e),r=t.extend(!0,{},p,"object"==typeof n?n:null),a=t(c).data(o),a||(a=new i(c,r)),"string"==typeof n&&a[n](s)})},i}(t);t.fn[i]=h._jQueryInterface,t.fn[i].Constructor=h,t.fn[i].noConflict=function(){return t.fn[i]=n,h._jQueryInterface},"object"==typeof module&&(module.exports=h)});