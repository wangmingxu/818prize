!function(t,i){"function"==typeof define&&define.amd?define(["jquery"],i):i("object"==typeof exports?require("jquery"):window.jQuery)}(this,function(t){var i="Flide",e="flide",o="mx-flide",n=t.fn[i],s={initfocus:1,sPicWidth:310,sPicHeight:218,bPicWidth:418,bPicHeight:295,picMargin:20,showPicCount:3,speed:200},h=function(t){var i=function(i,o){this._option=this._getOption(o),this._$element=t(i),this._$element.data(e,this),this.nowFocus=s.initfocus,this.leftMax=0,this.rightMax=this._$element.find("[data-role='item']").length-1,this.sPicCount=this._option.showPicCount-1,this.mLeft=0,this.mRight=this._option.showPicCount-1,this._init(this.nowFocus)};return i.prototype._init=function(){this.tabTo(this._option.initfocus),this._initEventHandle()},i.prototype._initEventHandle=function(){t(document).on("click","[data-role='next']",t.proxy(this.next,this)),t(document).on("click","[data-role='prev']",t.proxy(this.prev,this)),t(document).on("click","[data-role='item']",t.proxy(this.clickTo,this))},i.prototype._offEventHandle=function(){t(document).off("click","[data-role='next']"),t(document).off("click","[data-role='prev']"),t(document).off("click","[data-role='prev']")},i.prototype._calcWidth=function(){var t,i,e;i=this._option.bPicWidth+this._option.sPicWidth*(this._option.showPicCount-1),e=this.picMargin*(this._option.showPicCount-1),t=i+e,this._$element.css("width",t+"px")},i.prototype._calcOffset=function(){if(this.nowFocus<this._option.showPicCount)return 0;var t=-(this.nowFocus-this._option.showPicCount+1)*this._option.sPicWidth;return t},i.prototype.next=function(){this.nowFocus++,this.judgeMax(),this.judgeSlide("next");var t=this._option.speed;this._$element.find("[data-role='item']").eq(this.nowFocus-1).animate({width:this._option.sPicWidth+"px",height:this._option.sPicHeight+"px"},t),this._$element.find("[data-role='item']").eq(this.nowFocus).animate({width:this._option.bPicWidth+"px",height:this._option.bPicHeight+"px"},t)},i.prototype.prev=function(){this.nowFocus--,this.judgeMax(),this.judgeSlide("prev");var t=this._option.speed;this._$element.find("[data-role='item']").eq(this.nowFocus+1).animate({width:this._option.sPicWidth+"px",height:this._option.sPicHeight+"px"},t),this._$element.find("[data-role='item']").eq(this.nowFocus).animate({width:this._option.bPicWidth+"px",height:this._option.bPicHeight+"px"},t)},i.prototype.tabTo=function(t){var i=this.nowFocus;this.nowFocus=t,this.judgeMax(),this.judgeSlide("tabTo");var e=this._option.speed;this._$element.find("[data-role='item']").eq(i).animate({width:this._option.sPicWidth+"px",height:this._option.sPicHeight+"px"},e),this._$element.find("[data-role='item']").eq(this.nowFocus).animate({width:this._option.bPicWidth+"px",height:this._option.bPicHeight+"px"},e)},i.prototype.clickTo=function(i){var e=t(i.currentTarget).index();this.nowFocus!=e&&this.tabTo(e)},i.prototype.judgeSlide=function(t){var i=this._calcOffset()+"px",e=this.nowFocus;if(!(e>=this.mLeft&&e<=this.mRight)){switch(t){case"prev":this.mLeft--,this.mRight--;break;case"next":this.mLeft++,this.mRight++;break;case"tabTo":this.mLeft=this.nowFocus-this.sPicCount<this.leftMax?this.leftMax:this.nowFocus-this.sPicCount,this.mRight=this.nowFocus+this.sPicCount>this.rightMax?this.rightMax:this.nowFocus+this.sPicCount}var o=this._option.speed;this._$element.find("[data-role='item']").eq(0).animate({marginLeft:i},o)}},i.prototype.judgeMax=function(){this._$element.find("[data-role='item']").length-1,this._option.speed;this.nowFocus==this.leftMax?t("[data-role='prev']").hide():t("[data-role='prev']").show(),this.nowFocus==this.rightMax?t("[data-role='next']").hide():t("[data-role='next']").show()},i.prototype._getOption=function(i){return t.extend(!0,{},s,i)},i.prototype.destroy=function(){this._$element.removeData(e),this._offEventHandle(),delete this},i._jQueryInterface=function(n){var s=[].slice.call(arguments,1);return this.each(function(h,c){var a,r,p;a=t(c).data(o),r=t.extend(!0,{},a,"object"==typeof n?n:null),p=t(c).data(e),p||(p=new i(c,r)),"string"==typeof n&&p[n](s)})},i}(t);t.fn[i]=h._jQueryInterface,t.fn[i].Constructor=h,t.fn[i].noConflict=function(){return t.fn[i]=n,h._jQueryInterface},"object"==typeof module&&(module.exports=h)});